{% extends 'base.html' %}
{% block title %}My Patients{% endblock %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <div>
    <h2 class="mb-0">Patients Assigned to You</h2>
    <small class="text-muted">Doctor: {{ doctor.full_name }}</small>
  </div>
  <form method="get" class="d-flex">
    <input type="text" name="search" class="form-control me-2" placeholder="Search patients" value="{{ search_query }}">
    <button class="btn btn-outline-primary" type="submit">Search</button>
  </form>
</div>

{% if patients %}
  <div class="list-group">
    {% for patient in patients %}
      <div class="list-group-item d-flex justify-content-between align-items-center">
        <div>
          <h5 class="mb-1">{{ patient.full_name }}</h5>
          <p class="mb-1 text-muted">Patient ID: {{ patient.patient_id }} â€¢ {{ patient.email }}</p>
        </div>
        <a class="btn btn-primary btn-sm" href="{% url 'patient_detail' patient.pk %}">View Record</a>
      </div>
    {% endfor %}
  </div>
{% else %}
  <div class="alert alert-info">
    No patients assigned yet. Once you create health records, they will appear here.
  </div>
{% endif %}
{% endblock %}

